{"version":3,"sources":["containers/home/Home.js","utils/common.js","components/singleresult/SingleResult.js","containers/search/Search.js","components/toppanel/Toppanel.js","App.js","reportWebVitals.js","i18n.js","index.js"],"names":["Input","Search","Home","className","getDramaName","dramaList","key","locale","drama","find","d","label","SingleResult","props","search","j","onSelectItem","useTranslation","t","i18n","content","reactStringReplace","join","match","i","title","size","type","shape","onClick","style","marginLeft","icon","FileSearchOutlined","fontSize","zh","DramaList","language","ep","startTime","Layout","Header","Footer","Sider","Content","SearchPage","useState","result","setResult","pageLimit","setPageLimit","oriVtt","setOriVtt","translateVtt","setTranslateVtt","openDrawer","setOpenDrawer","selectedItemIdx","setSelectedItemIdx","rowSpacing","setRowSpacing","oriSubsRef","useRef","transSubsRef","useSearchParams","searchParams","queryParameters","URLSearchParams","window","location","get","oriLang","translateLang","useEffect","onSearch","getVocabTxtFile","url","fetch","then","response","text","handleVttFile","arr","split","currLine","vtt","push","line","map","idx","toString","slice","endTime","time","actualTime","totalSeconds","startTimeMili","time2","actualTime2","totalSeconds2","endTimeMili","subtitle","replace","value","console","log","resultData","Promise","all","Array","keys","origin","textZh","vttZh","resultTmp","includes","zhIdx","findIndex","scrollToTarget","current","scrollTo","top","margin","span","length","setTimeout","CaretDownOutlined","LoadingOutlined","spin","placement","closable","onClose","open","height","innerHeight","marginBottom","wrap","direction","disabled","ExpandAltOutlined","rotate","ShrinkOutlined","ref","onScroll","scrollTop","CloseOutlined","Toppanel","mode","setMode","setDrama","setSearch","setOriLang","setTranslateLang","navigate","useNavigate","dramaQuery","searchQuery","oriLangQuery","translateLangQuery","menuItemsChangePageLang","menuItemsOriLang","menuItemsTransLang","pathname","showFlagByKey","menu","items","lng","changeLanguage","localStorage","setItem","i18nKey","DownOutlined","align","justifyContent","placeholder","bordered","onChange","e","target","DesktopOutlined","SearchOutlined","HOMEROUTE","SEARCHROUTE","App","savedPageLang","getItem","theme","token","colorPrimary","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","use","Backend","initReactI18next","init","backend","loadPath","fallbackLng","interpolation","escapeValue","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.39fb465b.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { Input, Space } from 'antd';\n\nimport './home.css'\n\nconst { Search } = Input;\n\nfunction Home() {\n\n  return (\n    <div className=\"home-container\">\n    </div>\n  )\n}\n\nexport default Home\n","export const getDramaName = (dramaList, key, locale) => {\n  const drama = dramaList.find(d => d.key === key);\n  return drama ? drama.label[locale] : '';\n}\n","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { Input, Tooltip, Button } from 'antd';\nimport reactStringReplace from 'react-string-replace';\nimport { SearchOutlined, FileSearchOutlined, CaretUpOutlined, CaretDownOutlined } from '@ant-design/icons'\nimport { useTranslation } from 'react-i18next';\n\nimport * as DramaList from '../../config/dramaList.json';\nimport { getDramaName } from '../../utils/common';\n\nimport './singleresult.css'\n\nconst { Search } = Input;\n\nfunction SingleResult(props) {\n\n  const { \n    d,\n    j,\n    search,\n    drama,\n    onSelectItem,\n  } = props;\n\n  const { t, i18n } = useTranslation();\n\n  return (\n    <div className=\"singleresult-component-container\">\n      {<hr/>}\n      {/* <p>content: {d.prev.content && d.prev.content.join(', ')} / {d.prevZh && d.prevZh.cntent.join(', ')}</p> */}\n      <h3>\n        {\n          d.content &&\n          reactStringReplace(d.content.join(', '), search, (match, i) => (\n            <span key={i} className=\"highlight-result\">{match}</span>\n          ))\n        }\n        <Tooltip title={t('show-full-subs')}>\n          <Button size=\"small\" type=\"primary\" shape=\"circle\" onClick={onSelectItem} style={{ marginLeft: '8px' }} icon={<FileSearchOutlined style={{ fontSize: '11px' }} />} />\n        </Tooltip>\n      </h3>\n      <p>{d.zh && d.zh.content.join(', ')}</p>\n      <p><small>《{getDramaName(DramaList.default.dramaList, drama, i18n.language)}》 EP{d.ep}  |  {d.startTime}</small></p>\n      {/* <p>line: {d.line} | startTime: {d.startTime} | content: {d.content && d.content.join(', ')} / {d.zh && d.zh.content.join(', ')}</p> */}\n      \n      {/* <p>content: {d.next.content && d.next.content.join(', ')} / {d.nextZh && d.nextZh.content.join(', ')}</p> */}\n      {/*  <p>content: {d.next2 && d.next2.content && d.next2.content.join(', ')} / {d.nextZh2 && d.nextZh2.content.join(', ')}</p> */}\n    </div>\n  )\n}\n\nexport default SingleResult\n","import React, { useState, useEffect, useRef } from 'react'\nimport { useParams, useLocation, useSearchParams } from 'react-router-dom'\nimport { Input, Space, Layout, Table, Col, Row, Button, Drawer, Tooltip } from 'antd';\nimport reactStringReplace from 'react-string-replace';\nimport { CaretDownOutlined, ExpandAltOutlined, ShrinkOutlined, CloseOutlined, LoadingOutlined } from '@ant-design/icons'\nimport { useTranslation } from 'react-i18next';\n\nimport * as DramaList from '../../config/dramaList.json';\nimport { getDramaName } from '../../utils/common';\n\nimport SingleResult from '../../components/singleresult/SingleResult';\n\nimport './search.css'\n\nconst { Search } = Input;\nconst { Header, Footer, Sider, Content } = Layout;\n\nfunction SearchPage() {\n  const [result, setResult] = useState(null)\n  const [pageLimit, setPageLimit] = useState(15)\n  const [oriVtt, setOriVtt] = useState([])\n  const [translateVtt, setTranslateVtt] = useState([])\n  const [openDrawer, setOpenDrawer] = useState(false)\n  const [selectedItemIdx, setSelectedItemIdx] = useState(null)\n  const [rowSpacing, setRowSpacing] = useState(80)\n\n  const oriSubsRef = useRef(null);\n  const transSubsRef = useRef(null);\n\n  const { t, i18n } = useTranslation();\n\n  const [searchParams] = useSearchParams();\n\n  const queryParameters = new URLSearchParams(window.location.search)\n  const drama = queryParameters.get(\"drama\")\n  const search = queryParameters.get(\"search\")\n  const oriLang = queryParameters.get(\"oriLang\")\n  const translateLang = queryParameters.get(\"translateLang\")\n\n  const items = [\n    { label: 'cha', key: 'cha' },\n    { label: 'dead', key: 'dead' },\n    { label: 'just', key: 'just' },\n    { label: 'lawyer', key: 'lawyer' },\n    { label: 'nervertheless', key: 'nervertheless' },\n    { label: 'soul', key: 'soul' }, \n    { label: 'squid_game', key: 'squid_game' },\n    { label: 'vincenzo', key: 'vincenzo' }, \n    { label: 'hospital', key: 'hospital' }, \n  ];\n\n  const vocab = [\n    {key: \"001\", vocab: \"경우\"},\n    {key: \"002\", vocab: \"대상\"},\n    {key: \"003\", vocab: \"분야\"},\n    {key: \"004\", vocab: \"도전하다\"},\n    {key: \"005\", vocab: \"가입\"},\n    {key: \"006\", vocab: \"모집\"},\n    {key: \"007\", vocab: \"변화\"},\n  ];\n\n  useEffect(() => {\n    onSearch(search)\n    setResult(null)\n  }, [searchParams]);\n\n  const getVocabTxtFile = (url) => {\n    return fetch(url).then(function (response) {\n      return response.text()\n    })\n  }\n\n  const handleVttFile = (text) => {\n    var arr = text.split('\\n')\n    var currLine = 0;\n    var vtt = [];\n    vtt.push({\n      line: currLine,\n      content: [],\n    });\n\n    arr.map((d, idx) => {\n      //console.log(idx, d);\n      if (d === '') return;\n      if (d !== (currLine+1).toString()) {\n        if (d[2] === ':') {\n          var startTime = d.slice(0,12);\n          var endTime = d.slice(17,29);\n\n          var time = startTime.split('.');\n          var actualTime = time[0].split(':');\n          var totalSeconds = (+actualTime[0]) * 60 * 60 + (+actualTime[1]) * 60 + (+actualTime[2]);\n          vtt[currLine].startTimeMili = totalSeconds * 1000 + (+time[1]);\n\n          var time2 = endTime.split('.');\n          var actualTime2 = time2[0].split(':');\n          var totalSeconds2 = (+actualTime2[0]) * 60 * 60 + (+actualTime2[1]) * 60 + (+actualTime2[2]);\n          vtt[currLine].endTimeMili = totalSeconds2 * 1000 + (+time2[1]);\n\n          vtt[currLine].startTime = time[0];\n          vtt[currLine].endTime = time2[0];\n        } else {\n          var subtitle = d\n            .replace('<c.korean>', '')\n            .replace('</c.korean>', '')\n            .replace('<c.traditionalchinese>', '')\n            .replace('</c.traditionalchinese>', '')\n            .replace('<c.bg_transparent>', '')\n            .replace('</c.bg_transparent>', '')\n            .replace('&lrm;', '')\n            vtt[currLine].content.push(subtitle);\n        }\n      } else {\n        currLine += 1;\n        vtt.push({\n          line: currLine,\n          content: [],\n        });\n      }\n      return d;\n    })\n    return vtt;\n  }\n\n  const columns = [\n    {\n      title: 'Result',\n      key: 'result',\n      render: (d) => <SingleResult d={d} j={1} search={search} drama={drama} />,\n    },\n  ];\n\n  const onSearch = async (value) => {\n    setResult([]);\n    console.log(value)\n\n    if (!(value && value.replace(' ', '') !== '')){\n      return;\n    }\n\n    //var resultAll = null;\n    var resultData = [];\n    await Promise.all(\n       [...Array(24).keys()].map(async(i) => {\n        var ep = ('0' + (i+1).toString()).slice(-2);\n\n        await getVocabTxtFile(`${window.location.origin}/res/drama/${drama}/${oriLang}/S01E${ep}.vtt`).then(async(text) => {\n          await getVocabTxtFile(`${window.location.origin}/res/drama/${drama}/${translateLang}/S01E${ep}.vtt`).then((textZh) => {\n            const vtt = handleVttFile(text);\n            const vttZh = handleVttFile(textZh);\n            oriVtt[ep] = vtt\n            translateVtt[ep] = vttZh\n            setOriVtt(oriVtt);\n            setTranslateVtt(translateVtt);\n            \n            var resultTmp = [];\n            vtt.map((d,i) => {\n              if (d.content.find(line => line.includes(value))) {\n                //d.prev = vtt[i-1];\n                //d.next = vtt[i+1];\n                //d.next2 = vtt[i+2];\n\n                //x1 <= y2 && y1 <= x2\n                var zhIdx = vttZh.findIndex(zh => zh.startTimeMili <= d.endTimeMili &&  d.startTimeMili <= zh.endTimeMili);\n                d.zh = zhIdx > -1 ? vttZh[zhIdx] : null;\n                //d.prevZh = vttZh[zhIdx-1];\n                //d.nextZh = vttZh[zhIdx+1];\n                //d.nextZh2 = vttZh[zhIdx+2];\n\n                d.ep = ep;\n\n                resultTmp.push(d);\n                resultData.push(d)\n                ////console.log('d', d)\n              }\n              return d;\n            });\n            var tmp = result || [];\n            tmp[i] = resultTmp;\n            //resultAll = tmp;\n          })\n        })\n        return i;\n      })\n    )\n    if (resultData){\n      setResult(resultData);\n    }\n  }\n\n  const onClickShowMore = () => {\n    setPageLimit(pageLimit + 15);\n  }\n\n  const onSelectItem = (idx) => {\n    setOpenDrawer(true);\n    setSelectedItemIdx(idx);\n    setTimeout(() => {\n      oriSubsRef.current.scrollTo({top: result[idx].startTimeMili / rowSpacing - 20});\n      //transSubsRef.current.scrollTo({top: result[idx].startTimeMili / rowSpacing, behavior: 'smooth'});\n    }, 1000)\n  }\n\n  const scrollToTarget = (rowSpacing) => {\n    if (result[selectedItemIdx]) {\n      oriSubsRef.current.scrollTo({top: result[selectedItemIdx].startTimeMili / rowSpacing - 20});\n    }\n  }\n\n  return (\n    <div className=\"search-container\">\n      <Row style={{ margin: 30 }}>\n        {\n          result ?\n            <Col span={24}>\n              <div>{t('result')} ({result && result.length})</div>\n              <div className=\"result\">\n                {\n                  result.slice(0, pageLimit).map((d,j) => {\n                    return <div key={j}>\n                      <SingleResult d={d} search={search} drama={drama} onSelectItem={() => onSelectItem(j)} />\n                    </div>\n                  })\n              }\n              </div>\n              { \n                pageLimit < result.length && \n                <Button className=\"btn-show-more\" onClick={onClickShowMore}>\n                  {t(\"show-more\")} {pageLimit} / {result.length} <CaretDownOutlined />\n                </Button>\n              }\n            </Col>\n          :\n          <LoadingOutlined style={{ fontSize: 24 }} spin />\n        }\n        \n      </Row>\n      <div>\n      </div>\n      {/* <Layout>\n        <Header>\n          <Search\n            placeholder=\"input search text\"\n            onSearch={onSearch}\n            style={{\n              width: 200,\n            }}\n          />\n        </Header>\n        <Content>\n          <div>\n            <p>Result</p>\n            <div className=\"result\"></div>\n          </div>\n        </Content>\n        <Footer>Footer</Footer>\n      </Layout> */}\n      <Drawer\n        title={`${getDramaName(DramaList.default.dramaList, drama, i18n.language)} EP${result && result[selectedItemIdx] ? result[selectedItemIdx].ep : ''} ${t('full-subtitles')}`}\n        placement=\"bottom\"\n        closable={true}\n        onClose={() => setOpenDrawer(false)}\n        open={openDrawer}\n        height={window.innerHeight * 0.85}\n      >\n        {\n          selectedItemIdx > -1 && result && result[selectedItemIdx] &&\n          <div className=\"drawer-inspector\">\n            <div><Button style={{marginBottom: '3px'}} size=\"small\" onClick={() => scrollToTarget(rowSpacing)}>{t(\"jump-to\")}</Button> {result[selectedItemIdx] && result[selectedItemIdx].content}</div>\n            <Space wrap>\n              <Space direction=\"vertical\">\n                <Button disabled={rowSpacing<10} type=\"primary\" icon={<ExpandAltOutlined rotate=\"-45\" style={{fontSize: '16px'}} />} onClick={()=>{setRowSpacing(rowSpacing - 5); scrollToTarget(rowSpacing - 5)}} />\n                <Button disabled={rowSpacing>150} type=\"primary\" icon={<ShrinkOutlined rotate=\"-45\" style={{fontSize: '16px'}} />} onClick={()=>{setRowSpacing(rowSpacing + 5); scrollToTarget(rowSpacing + 5)}}/>\n              </Space>\n              <div className=\"full-subtitle-container\" style={{height:`${window.innerHeight * 0.85 - 185}px`}} ref={oriSubsRef} onScroll={() => transSubsRef.current.scrollTo({top: oriSubsRef.current.scrollTop})}>\n                {\n                  oriVtt[result[selectedItemIdx].ep].map((d,i) => {\n                    if (i === 0 ) return null;\n                    return (\n                      <div key={i} className=\"line\" style={{top: d.startTimeMili ? `${d.startTimeMili / rowSpacing}px` : 0}}>\n                      {/* <Tooltip title={d.startTime} placement=\"bottomRight\" color={\"#3f51b5\"}> */}\n                        {\n                          reactStringReplace(d.content.join(', '), search, (match, i) => (\n                            <span key={i} className=\"highlight-result\">{match}</span>\n                          ))\n                        }\n                        <span className=\"start-time\">{d.startTime}</span>\n                      </div>\n                    )\n                  })\n                }\n              </div>\n\n              <div className=\"full-subtitle-container\" style={{height:`${window.innerHeight * 0.85 - 185}px`}} ref={transSubsRef} onScroll={() => oriSubsRef.current.scrollTo({top: transSubsRef.current.scrollTop})}>\n                {\n                  translateVtt[result[selectedItemIdx].ep].map((d,i) => {\n                    if (i === 0 ) return null;\n                    return (\n                      <div key={i} className=\"line\" style={{top: d.startTimeMili ? `${d.startTimeMili / rowSpacing}px` : 0}}>\n                        {d.content.join(', ')}\n                        <span className=\"start-time\">{d.startTime}</span>\n                      </div>\n                    )\n                  })\n                }\n              </div>\n            </Space>\n          </div>\n        }\n        <Button className=\"btn-close-drawer\" onClick={()=>setOpenDrawer(false)}><CloseOutlined /> {t('close')}</Button>\n      </Drawer>\n    </div>\n  )\n}\n\nexport default SearchPage\n","import React, { useState, useEffect } from 'react'\nimport { BrowserRouter as Router, Routes, Route, Link, useNavigate } from 'react-router-dom'\nimport { useParams, useSearchParams } from 'react-router-dom'\nimport { Input, Dropdown, Space, Button } from 'antd';\nimport { SearchOutlined, PlaySquareOutlined, CaretDownOutlined, PlayCircleOutlined, DesktopOutlined, DownOutlined } from '@ant-design/icons';\nimport ReactFlagsSelect, { Us, Kr, Fr, Hk, Tw, Id } from \"react-flags-select\";\nimport { useTranslation, Trans } from 'react-i18next';\n\nimport * as DramaList from '../../config/dramaList.json';\nimport { getDramaName } from '../../utils/common';\n\nimport './toppanel.css'\n\nconst { Search } = Input;\n\nfunction Toppanel() {\n\n  const [mode, setMode] = useState(\"home\")\n  const [drama, setDrama] = useState('soul')\n  const [search, setSearch] = useState('')\n  const [oriLang, setOriLang] = useState('kr')\n  const [translateLang, setTranslateLang] = useState('en')\n\n  const navigate = useNavigate();\n  const { t, i18n } = useTranslation();\n\n  const queryParameters = new URLSearchParams(window.location.search)\n  const dramaQuery = queryParameters.get(\"drama\")\n  const searchQuery = queryParameters.get(\"search\")\n  const oriLangQuery = queryParameters.get(\"oriLang\")\n  const translateLangQuery = queryParameters.get(\"translateLang\")\n\n  const menuItemsChangePageLang = [\n    { label: \"English\", key: 'en' },\n    { label: \"繁體中文\", key: 'zh-Hant' },\n    { label: `${t(\"other\")} (Coming soon)`, key: 'other', disabled: true },\n  ]\n\n  const menuItemsOriLang = [\n    /* { label: (<div className=\"ori-lang-choice\"><Us/ > <div className=\"text\">English</div></div>), key: 'en' }, */\n    { label: (<div className=\"ori-lang-choice\"><Kr/ > <div className=\"text\">{t(\"korean\")}</div></div>), key: 'kr' },\n    /* { label: (<div className=\"ori-lang-choice\"><Fr/ > <div className=\"text\">French</div></div>), key: 'fr' }, */\n    { label: `${t(\"other\")} (Coming soon)`, key: 'other', disabled: true },\n  ];\n  \n  const menuItemsTransLang = [\n    { label: (<div className=\"ori-lang-choice\"><Us/ > <div className=\"text\">{t(\"en\")}</div></div>), key: 'en' },\n    { label: (<div className=\"ori-lang-choice\"><Hk/ > <div className=\"text\">{t(\"zh-Hant\")}</div></div>), key: 'zh-Hant' },\n    /* { label: (<div className=\"ori-lang-choice\"><Tw/ > <div className=\"text\">繁體中文 (台灣)</div></div>), key: 'zh-Hant' }, */\n    { label: (<div className=\"ori-lang-choice\"><Id/ > <div className=\"text\">{t(\"id\")}</div></div>), key: 'id' },\n    { label: `${t(\"other\")} (Coming soon)`, key: 'other', disabled: true },\n  ];\n\n  useEffect(() => {\n    if (window.location.pathname === '/') {\n      setMode(\"home\")\n    } else {\n      setMode(\"pages\")\n    }\n  }, [window.location.pathname]);\n\n  const changeLanguage = (lng) => {\n    i18n.changeLanguage(lng);\n  };\n\n  useEffect(() => {\n    if (dramaQuery) setDrama(dramaQuery)\n  }, [dramaQuery]);\n\n  useEffect(() => {\n    if (searchQuery) setSearch(searchQuery)\n  }, [searchQuery]);\n\n  useEffect(() => {\n    if (oriLangQuery) setOriLang(oriLangQuery)\n  }, [oriLangQuery]);\n\n  useEffect(() => {\n    if (translateLangQuery) setTranslateLang(translateLangQuery)\n  }, [translateLangQuery]);\n\n  const onSearch = () => {\n    if (search && search.replace(' ', '') !== ''){\n      navigate(`/search?search=${search}&drama=${drama}&oriLang=${oriLang}&translateLang=${translateLang}`);\n    }\n  }\n\n  const onChangePageLangClick = ({key}) => {\n    changeLanguage(key);\n    localStorage.setItem('pageLang', key);\n  };\n\n  const onClick = ({ key }) => setDrama(key);\n  \n  const onOriLangClick = ({key}) => setOriLang(key);\n\n  const onTranslateLangClick = ({ key }) => setTranslateLang(key);\n\n  const showFlagByKey = (key) => {\n    switch(key) {\n      case \"en\":\n        return <Us />;\n      case \"kr\":\n        return <Kr />;\n      case \"fr\":\n        return <Fr />;\n      case \"zh-Hant\":\n        return <Hk />;\n      case \"tw\":\n        return <Tw />;\n      case \"id\":\n        return <Id />;\n      default:\n        return key;\n    }\n  }\n\n  return (\n    <div className={`toppanel-component-container ${mode}`}>\n      <div className=\"App-header\">\n        <div>\n          <div className='header' onClick={()=>navigate('/')}>Get-Subtitles <span className=\"beta\">beta</span></div>\n          <div className='sub-header'>{t(\"header-subheader\")}</div>\n        </div>\n        <div className=\"nav\">\n          {/* <div className=\"nav-item\">\n            <Link to=\"/\">{t('home')}</Link>\n          </div> */}\n          <div className=\"nav-item\">\n            <Dropdown menu={{items: menuItemsChangePageLang, onClick: onChangePageLangClick}}>\n              <Button>\n                <Space>\n                  <Trans i18nKey={i18n.language} />\n                  <DownOutlined />\n                </Space>\n              </Button>\n            </Dropdown>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"container-search\">\n        <div className=\"container-search-inner\">\n          <div className=\"search-area\">\n            <Space wrap align=\"center\" style={{justifyContent:\"center\"}}>\n              <Space wrap>\n                <Dropdown menu={{ items: menuItemsOriLang, onClick: onOriLangClick }}>\n                  <a><div className=\"input-flag\">{showFlagByKey(oriLang)} <CaretDownOutlined /></div></a>\n                </Dropdown>\n                <Input className=\"input-search\" value={search} placeholder={t(\"input-search-text\")} bordered={false} onChange={(e) => setSearch(e.target.value)} />\n              </Space>\n              <Space wrap>\n                <DesktopOutlined />\n                <div className=\"dropdown\">\n                  <Dropdown menu={{ items: DramaList.default.dramaList.map(d => {\n                    return (\n                      {\n                        key: d.key,\n                        label: d.label[i18n.language],\n                      }\n                    )\n                  }), onClick, }}>\n                    <a>{getDramaName(DramaList.default.dramaList, drama, i18n.language)} <CaretDownOutlined /></a>\n                  </Dropdown>\n                </div>\n              </Space>\n              <Button type=\"primary\" icon={<SearchOutlined />} onClick={onSearch}>\n                {t('search')}\n              </Button>\n            </Space>\n          </div>\n\n          <div className=\"dropdown-translate-lang\">\n            <Dropdown menu={{ items: menuItemsTransLang, onClick: onTranslateLangClick }}>\n              <a className=\"text\">{t('translate-to')} <div className=\"input-flag\">{showFlagByKey(translateLang)}</div> <Trans i18nKey={translateLang} /><CaretDownOutlined /></a>\n            </Dropdown>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Toppanel\n","import React, { useState, useEffect } from 'react'\nimport { BrowserRouter as Router, Routes, Route, Link, useNavigate } from 'react-router-dom'\nimport { ConfigProvider, Input } from 'antd';\nimport { useTranslation, Trans } from 'react-i18next';\n\nimport Home from './containers/home/Home'\n//import KDrama from './component/KDrama/Kdrama'\n//import Vocab from './component/Vocab/Vocab.js'\n//import Dictionary from './component/Dictionary/Dictionary'\nimport SearchContainer from './containers/search/Search'\nimport Toppanel from './components/toppanel/Toppanel';\n\nimport './App.css'\n\nconst HOMEROUTE = '/'\n//const KDRAMAROUTE = '/kdrama/:name/:ep'\n//const VOCABROUTE = '/vocab/:name'\n//const DICTIONARYROUTE = '/dict/:vocab'\nconst SEARCHROUTE = '/search'\n\nconst { Search } = Input;\n\nfunction App() {\n\n  const { t, i18n } = useTranslation();\n\n  useEffect(() => {\n    // on enter page\n    const savedPageLang = localStorage.getItem(\"pageLang\");\n    console.log('savedPageLang', savedPageLang)\n    if (savedPageLang) {\n      i18n.changeLanguage(savedPageLang);\n    }\n  }, []);\n\n  return (\n    <ConfigProvider\n      theme={{\n        token: {\n          colorPrimary: '#3f51b5', //'#5f8ec3',\n        },\n      }}\n    >\n        <div className=\"App\">\n          <Toppanel />\n\n          <div className=\"body\">\n            <Routes>\n              <Route path={HOMEROUTE} element={<Home />} />\n              <Route path={SEARCHROUTE} element={<SearchContainer />} />\n            </Routes>\n          </div>\n          <div className=\"footer\">\n            <small>get-subtitles.com</small>\n            <div><small>Last updated on: 20th February 2023</small></div>\n          </div>\n        </div>\n    </ConfigProvider>\n  )\n};\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport Backend from \"i18next-http-backend\";\n\ni18n\n   // 使用 i18next-http-backend\n   .use(Backend) \n   // 將 i18next 傳入 react-i18next 裡面\n   .use(initReactI18next)  \n   // 實例化 initReactI18next\n   .init({\n      backend: {\n         //網頁載入時去下載語言檔的位置\n         loadPath: \"/locales/{{lng}}/{{ns}}.json\",\n      },\n      // 當目前的語言檔找不到對應的字詞時，會用 fallbackLng (en) 作為預設語言\n      fallbackLng: \"en\",\n      // 預設語言\n      lng: \"en\",\n      interpolation: {\n         // 是否要讓字詞 escaped 來防止 xss 攻擊，這裡因為 React.js 已經做了，就設成 false即可\n         escapeValue: false,\n      },\n   });\n\nexport default i18n;","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport \"./i18n\";\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}